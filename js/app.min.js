export function initFormValidation(){let t=document.getElementById("cadastro-form");t&&t.addEventListener("submit",function(e){e.preventDefault(),clearErrors(t);validateFields(t)?(alert("Cadastro enviado com sucesso!"),t.reset()):alert("Formul\xe1rio com erros. Por favor, corrija os campos em vermelho.")})}function validateFields(t){let e=!0,r=t.querySelectorAll("[required]");for(let o of r)o.validity.valid||(e=!1,showError(o));return e}function showError(t){t.classList.add("field-error");let e=t.previousElementSibling,r=`O campo "${e.textContent.replace(":","")}" \xe9 obrigat\xf3rio.`;t.validity.patternMismatch&&(r=`O formato do campo "${e.textContent.replace(":","")}" est\xe1 incorreto.`);let o=document.createElement("span");o.className="form-error-text",o.textContent=r,t.parentElement.appendChild(o)}function clearErrors(t){let e=t.querySelectorAll(".form-error-text");for(let r of e)r.remove();let o=t.querySelectorAll(".field-error");for(let n of o)n.classList.remove("field-error")}import{initFormValidation}from"./validation.js";export function initSpa(){let t=document.getElementById("main-content"),e=document.querySelector(".main-nav");e&&e.addEventListener("click",function(e){let r=e.target.closest("a");if(!r)return;e.preventDefault();let o=r.getAttribute("href");if(o.startsWith("http")||o.startsWith("#")){window.location.href=o;return}loadContent(o,t),history.pushState({},"",o)})}async function loadContent(t,e){try{let r=await fetch(t);if(!r.ok)throw Error("P\xe1gina n\xe3o encontrada.");let o=await r.text(),n=new DOMParser,a=n.parseFromString(o,"text/html"),i=a.querySelector("main");i?(e.innerHTML=i.innerHTML,t.includes("cadastro.html")&&initFormValidation()):e.innerHTML="<h1>Erro ao carregar conte\xfado.</h1>"}catch(l){console.error("Erro ao carregar p\xe1gina:",l),e.innerHTML="<h1>P\xe1gina n\xe3o encontrada. (404)</h1>"}}import{initSpa}from"./spa.js";document.addEventListener("DOMContentLoaded",()=>{initSpa()});